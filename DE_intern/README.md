# Тестовое задание на позицию Data Engineer стажер
**Необходимо:**
- Развернуть бэкап базы данных на локальной машине
- Ответить на стандартный запрос в службу технической поддержки

**В качестве ответа на задание**, необходимо выслать ответное письмо, которое включает в себя:
1. Скрипт хранимой процедуры после внесения необходимых изменений;
2. Описание хода решения с развернутыми комментариями по каждому пункту.

**Запрос с службу технической поддержки:**
*1. Заказчик утверждает, что продажи с НДС по сети, по группе товаров 'Биологически активные добавки',  в июне 2017 составил 1 782 949.10 руб. Продажи шт. - 6761.10.
- Необходимо найти и устранить возможные причины расхождений.
- Пример запуска процедуры: exec sp_report_1 @date_from = '2017-06-01', @date_to = '2017-06-30', @good_group_name = N'Биологически активные добавки'
2. Необходимо добавить показатели: 
- Средняя цена закупки руб., без НДС
- Маржа руб. без НДС
- Наценка % без НДС
3. Добавить возможность фильтрации по нескольким группам товаров одновременно. На вход группы подаются через запятую в параметр @good_group_name.  
- Пример запуска процедуры: exec sp_report_1 @date_from = '2017-06-01', @date_to = '2017-06-30', @good_group_name = 'Биологически активные добавки,Косметические средства'
4. Вывести долю продаж с НДС товара, в каждом дне/магазине/группе товаров, отсортировать выборку по убыванию показателя.
Примечание. Относительно расчета - нужна доля от продаж позиции в аптеке, от продажи группы товара в этой же аптеке. Показатель нужно добавить в текущую процедуру формирования данных для отчета. *

**Состав БД**<br>
![image](https://user-images.githubusercontent.com/84066295/126966879-a4ba4495-4568-4673-8514-6e3c7ceac395.png)

